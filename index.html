<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
<link rel="manifest" href="/assets/site.webmanifest">

<meta name="description" 
content="Paste in a recipe and scale it up or down. Also a constraint satisfaction solver, why not." />

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website" />
<meta property="og:url" content="https://reciplier.dreev.es/" />
<meta property="og:title" content="Reciplier - Recipe multiplier and Calculator Calculator" />
<meta property="og:description" content="Paste in a recipe and scale it up or down. Also a constraint satisfaction solver, why not." />
<meta property="og:image" content="https://reciplier.dreev.es/assets/reciplier-robot.png" />
<meta property="og:image:width" content="1024" />
<meta property="og:image:height" content="1024" />

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:url" content="https://reciplier.dreev.es/" />
<meta property="twitter:title" content="Reciplier - Recipe multiplier" />
<meta property="twitter:description" content="Paste in a recipe and scale it up or down. Also a constraint satisfaction solver, why not." />
<meta property="twitter:image" content="https://reciplier.dreev.es/assets/reciplier-robot.png" />

<link rel="stylesheet" href="style.css" />

<title>Reciplier</title>

</head>
<body>

<div class="help-float">
  <button
    id="helpButton"
    type="button"
    class="help-button"
    aria-label="Auxilium"
    aria-haspopup="dialog"
    aria-expanded="false"
  >?</button>

  <div
    id="helpPopover"
    class="help-popover"
    role="dialog"
    aria-label="Auxilium"
    hidden
  >
    <div class="help-popover-inner text-sm text-gray-600">
      <p>
This is kind of a free-form spreadsheet.
Check out the example "recipes" and it will gradually make sense.
The idea is you create cells with curly braces that contain expressions or equations, like
<span class="font-mono">{2x}</span> or 
<span class="font-mono">{x : 1}</span> or
<span class="font-mono">{a^2 + b^2 = c^2}</span>. 
(Nerds: "2x" is short for "2*x" but "x2" is just a variable, not "x*2".)
      </p>
      <p>
This was originally vibe-coded by Cantor Soule-Reeves and Daniel Reeves with
<a href="https://claude.ai" title="This was before Sonnet 4.5; not sure which exactly">Claude</a>
and then mostly
<a href="https://codebuff.com/referrals/ref-146ce36c-53e8-435c-a7f6-e180206dd0ee" title="Referral link that gets you (and me, dreev) free credits">Codebuff</a>
for a while and then a mix of a bunch of things.
See 
<a href="https://calca.io" target="_blank" rel="noopener noreferrer">Calca.io</a>
for an example of some prior art.
      </p>
      <p>
<a href="https://github.com/dreeves/reciplier">Source code on GitHub</a>.
      </p>
    </div>
  </div>
</div>

<div class="reciplier-container">
  <h1 class="text-2xl font-bold mb-4">Reciplier</h1>
  
  <div class="mb-6">
    <div class="mb-2">
      <select id="recipeSelect" class="p-2 border rounded text-gray-700">
        <!-- Options will be populated dynamically from script.js -->
      </select>
    </div>

    <textarea 
      id="recipeTextarea"
      class="w-full p-3 border rounded h-40"
      placeholder="Recipe syntax is like {2x} cups flour, scaled by {x:1}"
    ></textarea>
  </div>
  
  <div id="sliderPanel" class="mb-4"></div>
  
  <div id="recipeOutput" class="bg-gray-50 p-4 rounded recipe-output mb-4" style="display: none;">
    <!-- Recipe output will be generated here -->
  </div>
  
  <div class="relative" id="copySection" style="display: none;">
    <button
      id="copyButton"
      class="w-full bg-gray-100 text-gray-800 py-2 rounded mb-2"
    >
      Copy Snapshot to Clipboard
    </button>
    <div id="notification" class="notification text-center" style="display: none;"></div>
  </div>
  
  <div class="text-center text-gray-400 text-sm mt-4">
    <div class="text-gray-300 text-xs mt-1">
      v2026.01.18-a
    </div>
  </div>
</div>

<script src="csolver.js"></script>
<script src="reciplates.js"></script>
<script src="reciplier.js"></script>

</body>
</html>
